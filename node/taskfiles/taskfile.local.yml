version: "3"

tasks:
  test-db:
    dotenv: [".env"]
    cmds:
      - go test ./pkg/db -v
  test-admin:
    dotenv: [".env"]
    cmds:
      - go test ./pkg/admin/tests -v
  test-fetcher:
    dotenv: [".env"]
    cmds:
      - go test ./pkg/fetcher -v
  test-utils:
    cmds:
      - go test ./pkg/utils/tests -v
  test-bus:
    cmds:
      - go test ./pkg/bus -v
  test-libp2p:
    cmds:
      - go test ./pkg/libp2p -v
  test:
    cmds:
      - task: test-db
      - task: test-admin
      - task: test-bus
      - task: test-libp2p
      - task: test-admin
      - task: test-fetcher
      - task: test-utils
